package com.example.gulbit.database

import android.content.ContentValues
import android.content.Context
import android.database.sqlite.SQLiteDatabase
import android.database.sqlite.SQLiteOpenHelper
import com.example.gulbit.model.Word

class WordDatabaseHelper(context: Context) :
    SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) {

    override fun onCreate(db: SQLiteDatabase) {
        val createTableQuery = """
            CREATE TABLE $TABLE_WORDS (
                $COLUMN_ID INTEGER PRIMARY KEY AUTOINCREMENT,
                $COLUMN_WORD TEXT NOT NULL,
                $COLUMN_MEANING TEXT NOT NULL,
                $COLUMN_EXAMPLE TEXT NOT NULL
            )
        """.trimIndent()
        db.execSQL(createTableQuery)

        // üìå Îã®Ïñ¥ 20Í∞ú Ï∂îÍ∞Ä
        insertInitialWords(db)
    }

    private fun insertInitialWords(db: SQLiteDatabase) {
        val words = listOf(
            Word("Í∞ïÍµ¨ÌïòÎã§", "Ï¢ãÏùÄ ÎåÄÏ±ÖÏù¥ÎÇò Î∞©Î≤ïÏùÑ Í∂ÅÎ¶¨Ìï¥ Ï∞æÏïÑÎÇ¥Í±∞ÎÇò ÏÑ∏Ïö∞Îã§.", "Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ ÎåÄÏ±ÖÏùÑ Í∞ïÍµ¨ÌïòÎã§."),
            Word("Í≥†Ïã¨ÌïòÎã§", "Ïñ¥Îñ§ ÏùºÏùÑ Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ ÍπäÏù¥ ÏÉùÍ∞ÅÌïòÎã§.", "ÎÇòÎäî Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ Ïò§Îûú ÏãúÍ∞Ñ Í≥†Ïã¨ÌñàÎã§."),
            Word("Í∞êÌÉÑÌïòÎã§", "ÌõåÎ•≠Ìïú Í≤ÉÏùÑ Î≥¥Í≥† ÎÜÄÎùºÎã§.", "Í∑∏Ïùò Îõ∞Ïñ¥ÎÇú Ïó∞Í∏∞Ïóê Î™®Îëê Í∞êÌÉÑÌñàÎã§."),
            Word("Ï†êÏ≤†ÎêòÎã§", "Í¥ÄÎ†®Ïù¥ ÏûàÎäî ÏÉÅÌô©Ïù¥ÎÇò ÏÇ¨Ïã§ Îì±Ïù¥ ÏÑúÎ°ú Ïù¥Ïñ¥Ïßê.", "Í∑∏Ïùò ÏÇ∂ÏùÄ Í≥†ÎèÖÍ≥º Î∞©ÎûëÏúºÎ°ú Ï†êÏ≤†Îèº ÏûàÎã§."),
            Word("ÌÜµÏÉÅÏ†ÅÏù∏", "ÌäπÎ≥ÑÌïòÏßÄ ÏïäÍ≥† Î≥¥ÌÜµÏù∏", "ÌÜµÏÉÅÏ†ÅÏù∏ ÏÑúÎëêÎäî ÏÉùÎûµÌïòÍ≥† Î∞îÎ°ú Î≥∏Î°†ÏúºÎ°ú Îì§Ïñ¥Í∞ÄÍ≤†ÏäµÎãàÎã§."),
            Word("Í∏∞Ïù∏ÌïòÎã§", "Ïñ¥Îñ§Ìïú Í≤ÉÏóê ÏõêÏù∏ÏùÑ ÎëêÎã§.", "Î°§Ïä§Îäî ÏàòÏπòÏã¨ÏùÑ Îä•Î†•Ïùò ÌÉÅÏõîÏÑ±Ïùò Î∂ÄÏû¨ Î∞è ÏÉÅÏã§Ïóê Îî∞Î•∏ ÏûêÏó∞Ï†Å ÏàòÏπòÏã¨Í≥º Ïù∏Í≤©Ïùò ÌÉÅÏõîÏÑ±Ïùò Î∂ÄÏû¨ Î∞è ÏÉÅÏã§ÏóêÏÑú Í∏∞Ïù∏ÌïòÎäî ÎèÑÎçïÏ†Å ÏàòÏπòÏã¨ÏúºÎ°ú Íµ¨Î∂ÑÌïúÎã§."),
            Word("ÏÑ†Ï†ÑÌïòÎã§", "Ï£ºÏùòÎÇò Ï£ºÏû•, ÏÇ¨Î¨ºÏùò Ï°¥Ïû¨, Ìö®Îä• Îî∞ÏúÑÎ•º ÎßéÏùÄ ÏÇ¨ÎûåÏù¥ ÏïåÍ≥† Ïù¥Ìï¥ÌïòÎèÑÎ°ù Ïûò ÏÑ§Î™ÖÌïòÏó¨ ÎÑêÎ¶¨ ÏïåÎ¶¨Îã§.", "Ïú†ÎåÄÏù∏ÏùÑ ÏïÖÎßàÌôîÌïòÎäî ÏÑ†Ï†ÑÏùÑ ÌéºÏ≥§Îã§."),
            Word("Î∞ïÌï¥", "Î™ªÏÇ¥Í≤å Íµ¥Ïñ¥ÏÑú Ìï¥Î°≠Í≤å Ìï®.", "Îã§ÏàòÏùò ÎØ∏Íµ≠Ïù∏Ïù¥ Î¨¥Í≥†Ìïú Ïù¥ÏõÉÏùò Î∞ïÌï¥Î•º Ïπ®Î¨µ ÏÜçÏóêÏÑú ÏßÄÏºúÎ≥¥Í∏∞Îßå ÌñàÎã§."),
            Word("Ïó¨Í≥º", "Ï£ºÎ°ú Î∂ÄÏ†ïÏ†ÅÏù∏ ÏöîÏÜåÎ•º Í±∏Îü¨ ÎÇ¥Îäî Í≥ºÏ†ïÏùÑ ÎπÑÏú†Ï†ÅÏúºÎ°ú Ïù¥Î•¥Îäî Îßê.", "Ïú†Î∞ú ÌïòÎùºÎ¶¨Îäî Î™®Îì† Ï†ïÎ≥¥Í∞Ä Ïó¨Í≥ºÏóÜÏù¥ ÌùêÎ•¥ÎèÑÎ°ù ÎÇ¥Î≤ÑÎ†§ÎëêÎ©¥ ÏßÑÏã§Ïù¥ ÏßÄÎäî Í≤ΩÌñ•Ïù¥ ÏûàÎã§Í≥† Ï∂©Í≥†ÌïúÎã§."),
            Word("ÏßÅÏ°∞ÌïòÎã§", "Í∏∞Í≥ÑÎÇò Î≤†ÌãÄ Îî∞ÏúÑÎ°ú ÌîºÎ•ôÏùÑ ÏßúÎã§.", "ÏàúÎ©¥ÏùÑ ÏßÅÏ°∞ÌïòÏó¨ ÎßåÎì† Îã¥ÏöîÎäî ÏñáÏúºÎ©¥ÏÑúÎèÑ Î≥¥Ïò® Ìö®Í≥ºÍ∞Ä Îõ∞Ïñ¥ÎÇòÎã§."),
            Word("Ìï≠Í±∞ÌïòÎã§", "ÏàúÏ¢ÖÌïòÏßÄ ÏïÑÎãàÌïòÍ≥† ÎßûÏÑúÏÑú Î∞òÌï≠ÌïòÎã§.", "ÎèÖÎ¶ΩÏö¥ÎèôÍ∞ÄÏù¥Ïã† Ìï†ÏïÑÎ≤ÑÏßÄÎäî ÏùºÏ†úÏùò ÏàòÌÉàÏóê Ìï≠Í±∞ÌïòÏãúÎã§ Ïò•Í≥†Î•º ÏπòÎ•¥ÏÖ®Îã§."),
            Word("ÎåÄÍ¥ÄÏ†à", "'ÎåÄÏ≤¥','ÎèÑÎåÄÏ≤¥'ÎùºÎäî ÎúªÏúºÎ°ú, Ïù¥Ïú†Î•º Î¨ºÏùÑ ÎïåÎÇò Í∞êÌÉÑÏÇ¨Î°ú ÏÇ¨Ïö©.", "ÎåÄÍ¥ÄÏ†à Ïôú Í∑∏Îü∞ Í≤∞Ï†ïÏùÑ ÎÇ¥Î†∏ÎäîÏßÄ Ïù¥Ìï¥Ìï† ÏàòÍ∞Ä ÏóÜÎã§."),
            Word("ÎØ∏Îç•Îã§", "ÎØøÏùåÏÑ±Ïù¥ ÏûàÍ≥† ÎØøÏùåÏßÅÏä§ÎüΩÎã§.", "Í∑∏Ïùò ÎØ∏ÎçîÏö¥ ÌÉúÎèÑÎäî ÌåÄÏõêÎì§ÏóêÍ≤å Ïã†Î¢∞Î•º Ïã¨Ïñ¥Ï£ºÏóàÏäµÎãàÎã§."),
            Word("Í∑∏ÏúΩÌïòÎã§", "ÍπäÏàôÌïòÍ≥† ÏïÑÎäëÌïòÎ©∞ Í≥†ÏöîÌïú ÏÉÅÌÉúÎ•º ÏùòÎØ∏.", "ÏÇ∞ÏÜç ÍπäÏùÄ Í≥≥Ïóê ÏúÑÏπòÌïú ÏÇ¨Ï∞∞ÏùÄ Í∑∏ÏúΩÌïú Î∂ÄÏúÑÍ∏∞Î°ú Î∞©Î¨∏Í∞ùÎì§Ïùò ÎßàÏùåÏùÑ ÌèâÏò®ÌïòÍ≤å ÎßåÎì§ÏóàÏäµÎãàÎã§."),
            Word("Í¥¥Î¶¨", "Íº≠ÎëêÍ∞ÅÏãú, ÌóàÏàòÏïÑÎπÑ", "Í∑∏Îäî Ïô∏ÏÑ∏Ïùò Í¥¥Î¢∞Î°ú ÏßÄÎ™©ÎêòÏñ¥ ÎßéÏùÄ ÎπÑÌåêÏùÑ Î∞õÏïòÎã§."),
            Word("Í∑ºÏûê", "ÏöîÏÇ¨Ïù¥, ÏöîÏ¶àÏùå", "Í∑ºÏûêÏóê Îì§Ïñ¥ Í±¥Í∞ïÏù¥ ÎßéÏù¥ Ï¢ãÏïÑÏ°åÎã§."),
            Word("ÏóºÍ∞Ä", "ÏãºÍ∞í", "ÏóºÍ∞Ä ÌåêÎß§Î°ú Ïù∏Ìï¥ ÏÜêÎãòÎì§Ïù¥ Î™∞Î†§Îì§ÏóàÎã§."),
            Word("ÏÉùÍ≤ΩÌïòÎã§", "ÏùµÏàôÌïòÏßÄ ÏïäÏïÑ Ïñ¥ÏÉâÌïòÎã§.", "Ï†ÑÌòÄ ÎÇØÏÑ† ÏÑ∏Í≥ÑÏùò ÌíçÍ≤ΩÏù¥ ÏÉùÍ≤ΩÌïú ÎäêÎÇåÏúºÎ°ú Îã§Í∞ÄÏôîÎã§."),
            Word("Í∏∞ÎßåÌïòÎã§", "ÎÇ®ÏùÑ ÏÜçÏó¨ ÎÑòÍ∏∞Îã§.","Í∑∏Îäî Ï†ïÏßÅÌïòÏó¨ ÎÇ®ÏùÑ Í∏∞ÎßåÌïòÏßÄ ÏïäÎäîÎã§."),
            Word("ÎèÑÏô∏ÏãúÌïòÎã§", "ÏÉÅÍ¥ÄÌïòÏßÄ ÏïÑÎãàÌïòÍ±∞ÎÇò Î¨¥ÏãúÌïòÎã§.", "Í∑∏Ïùò ÎßêÏùÑ ÎèÑÏô∏ÏãúÌï¥ÏÑúÎäî ÏïàÎêúÎã§.")
        )

        words.forEach { word ->
            val values = ContentValues().apply {
                put(COLUMN_WORD, word.word)
                put(COLUMN_MEANING, word.meaning)
                put(COLUMN_EXAMPLE, word.example)
            }

            // ÌååÎùºÎØ∏ÌÑ∞ Î∞îÏù∏Îî©ÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ Îç∞Ïù¥ÌÑ∞Î•º ÏÇΩÏûÖ
            db.insert(TABLE_WORDS, null, values)
        }
    }

    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {
        db.execSQL("DROP TABLE IF EXISTS $TABLE_WORDS")
        onCreate(db)
    }

    companion object {
        private const val DATABASE_NAME = "words.db"
        private const val DATABASE_VERSION = 2  // ‚ö† Î≤ÑÏ†Ñ Ïò¨Î†§Ïïº onUpgrade Ïã§ÌñâÎê®
        const val TABLE_WORDS = "words"
        const val COLUMN_ID = "id"
        const val COLUMN_WORD = "word"
        const val COLUMN_MEANING = "meaning"
        const val COLUMN_EXAMPLE = "example"
    }
}
